<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Function to convert wide-form ABCD data with
indifference scores from the delay discounting task
into a long-form data set ready for modeling."><title>Prepare ABCD Data for Delay Discounting Modeling — ddabcd_data_prep • ddabcd</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Prepare ABCD Data for Delay Discounting Modeling — ddabcd_data_prep"><meta property="og:description" content="Function to convert wide-form ABCD data with
indifference scores from the delay discounting task
into a long-form data set ready for modeling."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ddabcd</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.4</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Prepare ABCD Data for Delay Discounting Modeling</h1>
      
      <div class="d-none name"><code>ddabcd_data_prep.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Function to convert wide-form ABCD data with
indifference scores from the delay discounting task
into a long-form data set ready for modeling.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ddabcd_data_prep</span><span class="op">(</span></span>
<span>  <span class="va">dtf_data</span>,</span>
<span>  chr_columns <span class="op">=</span> <span class="st">""</span>,</span>
<span>  chr_indifference <span class="op">=</span> <span class="st">""</span>,</span>
<span>  chr_delay <span class="op">=</span> <span class="st">""</span>,</span>
<span>  chr_quality <span class="op">=</span> <span class="st">""</span>,</span>
<span>  num_delay <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  chr_immediate_choice_score <span class="op">=</span> <span class="st">""</span>,</span>
<span>  num_alpha_for_MK_test <span class="op">=</span> <span class="fl">0.05</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>dtf_data</dt>
<dd><p>A data frame with one row per
each time point and ABCD participant.</p></dd>


<dt>chr_columns</dt>
<dd><p>A character vector with the 7
columns with the indifference score (ranging from
0 - 100) at each delay duration (in order from the
shortest delay to the longest delay).</p></dd>


<dt>chr_indifference</dt>
<dd><p>A character vector with the
4 new column names in the long-form data set
for 1) the indifference score (0 - 100), 2) the
indifference score proportion (0 - 1), 3) the
log-odds of the indifference score proportion,
and 4) an indicator for whether the log-odds were
left or right censored (-1 = left, 1 = right, 0 = none).</p></dd>


<dt>chr_delay</dt>
<dd><p>A character vector with the 4 new
column names in the long-form data set for 1)
the original column names at each delay duration,
2) the delay duration in months, 3) the log of the
delay duration in months, and 4) the negative of
the log of the delay duration in months.</p></dd>


<dt>chr_quality</dt>
<dd><p>A character vector with the 5 new
column names in the long-form data set for</p><ol><li><p>an indicator of non-missing data by participant,</p></li>
<li><p>an indicator for participants who picked all 3
rational immediate choice responses for the
delay discounting validity check, 3) an
indicator for when participants did not make
the same response across all delay durations,</p></li>
<li><p>an indicator for when participant data met
the Johnson &amp; Bickel (2008) criteria for
valid data, and 5) an indicator for when
participant data exhibit a statistically
significant monotonic downward trend based
on a one-sided Mann-Kendall test.</p></li>
</ol></dd>


<dt>num_delay</dt>
<dd><p>An optional numeric vector with
the 7 values to use for the delay duration
(in order from shortest to longest). Otherwise
defaults to duration in months for delays of
6 hours, 1 day, 1 week, 1 month, 3 months,
1 year, and 5 years.</p></dd>


<dt>chr_immediate_choice_score</dt>
<dd><p>A character string
the column name in <code>dtf_data</code> tracking the
frequency in which participants chose up to 3
rational immediate choice responses during a
validity check.</p></dd>


<dt>num_alpha_for_MK_test</dt>
<dd><p>A proportion, the
false-positive rate for the one-sided Mann-Kendall
test.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A data frame.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Johnson, M. W., &amp; Bickel, W. K. (2008). An algorithm
for identifying nonsystematic delay-discounting data.
Experimental and Clinical Psychopharmacology, 16 (3),
264 - 274.
https://doi.org/10.1037/1064-1297.16.3.264</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Load in example data set</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"ddabcd_data_example_wide"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Process data set</span></span></span>
<span class="r-in"><span><span class="va">dtf_delay</span> <span class="op">&lt;-</span> <span class="fu">ddabcd_data_prep</span><span class="op">(</span><span class="va">ddabcd_data_example_wide</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in loadNamespace(x):</span> there is no package called ‘Kendall’</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Kevin Potter.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

